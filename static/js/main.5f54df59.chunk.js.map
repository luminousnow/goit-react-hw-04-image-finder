{"version":3,"sources":["Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/ErrorView/ErrorView.module.css","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","api/apiServise.js","Components/Searchbar/Searchbar.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","Components/ErrorView/img/omg.jpg","Components/ErrorView/ErrorView.jsx","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","App.js","index.js","Components/Searchbar/Searchbar.module.css","App.module.css"],"names":["module","exports","apiServise","imgName","pageNum","fetch","then","res","ok","json","Promise","reject","Error","Searchbar","getImgName","resetStates","useState","setImgName","className","s","searchbar","onSubmit","e","preventDefault","trim","toast","error","searchForm","type","searchForm__button","searchForm__button__label","value","onChange","inputValue","currentTarget","toLowerCase","searchForm__input","autoComplete","autoFocus","placeholder","modalRoot","document","querySelector","Modal","toggleModal","largeImg","altImg","useEffect","window","addEventListener","hendleKeyDown","removeEventListener","code","createPortal","overlay","onClick","target","modal","src","alt","Button","onLoadMoreBtnClick","button__box","button","ErrorView","errorMessage","role","error__box","omgImage","width","errorImg","ImageGalleryItem","smallImg","onImageClick","imageGalleryItem","data-original","imageGalleryItem__image","ImageGallery","imgCollection","getModalData","originalImage","dataset","original","altImage","imageGallery","map","i","webformatURL","largeImageURL","tags","Status","App","setImgCollection","setPageNum","lrgImg","setLrgImg","setAltImg","showModal","setShowModal","setError","status","setStatus","fetchGallery","gallery","prevState","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","app","position","autoClose","idle","loader","color","height","length","gettinglargeImg","gettingAltImg","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5f54df59.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3WapF\",\"modal\":\"Modal_modal__jkOX7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button__box\":\"Button_button__box__2aBz7\",\"button\":\"Button_button__3zLPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error__box\":\"ErrorView_error__box__-DQ3h\",\"errorImg\":\"ErrorView_errorImg__rDy63\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2ilN6\",\"imageGalleryItem__image\":\"ImageGalleryItem_imageGalleryItem__image__3LB1L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__JxcIz\"};","const KEY = '19092084-bc4ccb70eacd908f2d855c18b';\r\nconst URL = 'https://pixabay.com/api/';\r\nconst pagePerPage = 12;\r\n\r\nfunction apiServise(imgName, pageNum) {\r\n  return fetch(\r\n    `${URL}?q=${imgName}&page=${pageNum}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${pagePerPage}`,\r\n  ).then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`Картинки с именем ${imgName} отсутсвуют`));\r\n  });\r\n}\r\n\r\nexport default apiServise;\r\n","import React, { useState } from 'react';\r\nimport { func } from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\nconst Searchbar = ({ getImgName, resetStates }) => {\r\n  // === State === //\r\n  const [imgName, setImgName] = useState('');\r\n\r\n  // зміна state при зміні поля пошуку\r\n  const onNameChange = e => {\r\n    const inputValue = e.currentTarget.value.toLowerCase();\r\n\r\n    setImgName(inputValue);\r\n  };\r\n\r\n  // Cабміт форми\r\n  const onSubmitForm = e => {\r\n    e.preventDefault();\r\n\r\n    // перевірка чи поле не є пустим\r\n    if (imgName.trim() === '') {\r\n      return toast.error('Ведіть назву зображення');\r\n    }\r\n\r\n    // надсилає пропом imgCollection у Арр\r\n    resetStates();\r\n    getImgName(imgName);\r\n    // console.log(imgName);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className={s.searchbar}>\r\n        <form onSubmit={onSubmitForm} className={s.searchForm}>\r\n          <button type=\"submit\" className={s.searchForm__button}>\r\n            <span className={s.searchForm__button__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={imgName}\r\n            onChange={onNameChange}\r\n            className={s.searchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    </>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  getImgName: func.isRequired,\r\n  resetStates: func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React, { useEffect } from 'react';\r\nimport { func, string } from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nfunction Modal({ toggleModal, largeImg, altImg }) {\r\n  useEffect(() => {\r\n    // console.log('вішаємо addEventListener');\r\n    window.addEventListener('keydown', hendleKeyDown);\r\n\r\n    return () =>\r\n      // eslint-disable-next-line no-sequences\r\n      // console.log('знімаємо addEventListener'),\r\n      window.removeEventListener('keydown', hendleKeyDown);\r\n  });\r\n\r\n  //  закриває модалку по натисканню Escape\r\n  const hendleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  // закриває модалку по кліку на Backdrop\r\n  const hendleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={hendleBackdropClick}>\r\n      <div className={s.modal}>\r\n        <img src={largeImg} alt={altImg} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  toggleModal: func.isRequired,\r\n  largeImg: string.isRequired,\r\n  altImg: string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import s from './Button.module.css';\r\n\r\nfunction Button({ onLoadMoreBtnClick }) {\r\n  return (\r\n    <div className={s.button__box}>\r\n      <button onClick={onLoadMoreBtnClick} className={s.button} type=\"button\">\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","export default __webpack_public_path__ + \"static/media/omg.939b7921.jpg\";","import React from 'react';\r\nimport s from './ErrorView.module.css';\r\nimport omgImage from './img/omg.jpg';\r\n\r\nfunction ErrorView({ errorMessage }) {\r\n  return (\r\n    <div role=\"alert\" className={s.error__box}>\r\n      <img src={omgImage} alt=\"child\" width=\"320\" className={s.errorImg} />\r\n      <div>{errorMessage} </div>\r\n      <div>{'OMG такого зображення в нас не знайшлося'}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ErrorView;\r\n","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ smallImg, largeImg, alt, onImageClick }) {\r\n  return (\r\n    <li className={s.imageGalleryItem}>\r\n      <img\r\n        src={smallImg}\r\n        data-original={largeImg}\r\n        onClick={onImageClick}\r\n        alt={alt}\r\n        className={s.imageGalleryItem__image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport { string, func, arrayOf, shape } from 'prop-types';\r\n\r\nconst ImageGallery = ({ imgCollection, getModalData }) => {\r\n  const onImageClick = e => {\r\n    const originalImage = e.target.dataset.original;\r\n    const altImage = e.target.alt;\r\n    getModalData(originalImage, altImage);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ul className={s.imageGallery}>\r\n        {imgCollection.map(({ webformatURL, largeImageURL, tags }, i) => (\r\n          <ImageGalleryItem\r\n            key={i}\r\n            smallImg={webformatURL}\r\n            largeImg={largeImageURL}\r\n            alt={tags}\r\n            onImageClick={onImageClick}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  imgCollection: arrayOf(\r\n    shape({\r\n      webformatURL: string.isRequired,\r\n      largeImageURL: string.isRequired,\r\n      tags: string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  getModalData: func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from './App.module.css';\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport fetchGallery from './api/apiServise';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport Modal from './Components/Modal/Modal';\nimport Button from './Components/Button/Button';\nimport ErrorView from './Components/ErrorView/ErrorView';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst App = () => {\n  // === State === //\n  const [imgName, getImgName] = useState('');\n  const [imgCollection, setImgCollection] = useState([]);\n  const [pageNum, setPageNum] = useState(1);\n\n  const [lrgImg, setLrgImg] = useState('');\n  const [altImg, setAltImg] = useState('');\n\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    if (!imgName) {\n      return;\n    }\n\n    setStatus(Status.PENDING);\n    fetchGallery(imgName, pageNum)\n      .then(gallery => {\n        setImgCollection(prevState => [...prevState, ...gallery.hits]);\n        setStatus(Status.RESOLVED);\n        if (pageNum > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [imgName, pageNum]);\n\n  // скидає imgCollection і pageNum при зміні запиту\n  const resetStates = () => {\n    setImgCollection([]);\n    setPageNum(1);\n  };\n\n  // тоглить модалку\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  // отримує велике зображення, альт і змінює видимість модалки на \"true\"\n  const getModalData = (gettinglargeImg, gettingAltImg) => {\n    setLrgImg(gettinglargeImg);\n    setAltImg(gettingAltImg);\n    setShowModal(true);\n  };\n\n  const onLoadMoreBtnClick = () => {\n    setPageNum(prevState => prevState + 1);\n  };\n\n  return (\n    <div className={s.app}>\n      <ToastContainer position=\"bottom-center\" autoClose={2500} />\n      <Searchbar getImgName={getImgName} resetStates={resetStates} />\n      {showModal && (\n        <Modal toggleModal={toggleModal} largeImg={lrgImg} altImg={altImg} />\n      )}\n\n      {status === Status.IDLE && (\n        <div className={s.idle}>\n          Давайте розпочнемо. Напишіть назву зображення в полі вище та\n          розпочніть пошук\n        </div>\n      )}\n\n      {status === Status.PENDING && (\n        <Loader\n          className={s.loader}\n          type=\"Grid\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n        />\n      )}\n\n      {imgCollection.length === 0 && status === Status.RESOLVED && (\n        <ErrorView />\n      )}\n\n      {status === Status.RESOLVED && (\n        <ImageGallery\n          imgCollection={imgCollection}\n          getModalData={getModalData}\n        />\n      )}\n\n      {status === Status.RESOLVED && imgCollection.length > 11 && (\n        <Button onLoadMoreBtnClick={onLoadMoreBtnClick} />\n      )}\n\n      {status === Status.REJECTED && <ErrorView errorMessage={error.message} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './css/common.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__XzpCb\",\"searchForm\":\"Searchbar_searchForm__30ahr\",\"searchForm__button\":\"Searchbar_searchForm__button__1p4t0\",\"searchForm__button__label\":\"Searchbar_searchForm__button__label__2K3o8\",\"searchForm__input\":\"Searchbar_searchForm__input__C7-uy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1xEDg\",\"loader\":\"App_loader__3aq-m\",\"idle\":\"App_idle__A2g2b\",\"pending\":\"App_pending__1zIL8\",\"resolved\":\"App_resolved__fC6EE\",\"rejected\":\"App_rejected__2OFL5\"};"],"sourceRoot":""}