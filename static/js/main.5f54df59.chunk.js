(this["webpackJsonpgoit-react-hw-04-image-finder"]=this["webpackJsonpgoit-react-hw-04-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={overlay:"Modal_overlay__3WapF",modal:"Modal_modal__jkOX7"}},12:function(e,t,a){e.exports={button__box:"Button_button__box__2aBz7",button:"Button_button__3zLPr"}},13:function(e,t,a){e.exports={error__box:"ErrorView_error__box__-DQ3h",errorImg:"ErrorView_errorImg__rDy63"}},14:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2ilN6",imageGalleryItem__image:"ImageGalleryItem_imageGalleryItem__image__3LB1L"}},17:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__JxcIz"}},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a(0),n=a.n(c),o=a(4),s=a.n(o),l=a(15),i=a(3),m=a(9),_=a.n(m),u=a(8);var b=function(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("19092084-bc4ccb70eacd908f2d855c18b","&image_type=photo&orientation=horizontal&per_page=").concat(12)).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ".concat(e," \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u044e\u0442")))}))},j=a(16),d=a.n(j),g=a(5),h=a.n(g),p=function(e){var t=e.getImgName,a=e.resetStates,n=Object(c.useState)(""),o=Object(i.a)(n,2),s=o[0],l=o[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("header",{className:h.a.searchbar,children:Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===s.trim())return u.b.error("\u0412\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f");a(),t(s)},className:h.a.searchForm,children:[Object(r.jsx)("button",{type:"submit",className:h.a.searchForm__button,children:Object(r.jsx)("span",{className:h.a.searchForm__button__label,children:"Search"})}),Object(r.jsx)("input",{value:s,onChange:function(e){var t=e.currentTarget.value.toLowerCase();l(t)},className:h.a.searchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})},O=a(11),f=a.n(O),x=document.querySelector("#modal-root");var v=function(e){var t=e.toggleModal,a=e.largeImg,n=e.altImg;Object(c.useEffect)((function(){return window.addEventListener("keydown",s),function(){return window.removeEventListener("keydown",s)}}));var s=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(r.jsx)("div",{className:f.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(r.jsx)("div",{className:f.a.modal,children:Object(r.jsx)("img",{src:a,alt:n})})}),x)},I=a(12),y=a.n(I);var S=function(e){var t=e.onLoadMoreBtnClick;return Object(r.jsx)("div",{className:y.a.button__box,children:Object(r.jsx)("button",{onClick:t,className:y.a.button,type:"button",children:"Load more"})})},F=a(13),N=a.n(F),w=a.p+"static/media/omg.939b7921.jpg";var C=function(e){var t=e.errorMessage;return Object(r.jsxs)("div",{role:"alert",className:N.a.error__box,children:[Object(r.jsx)("img",{src:w,alt:"child",width:"320",className:N.a.errorImg}),Object(r.jsxs)("div",{children:[t," "]}),Object(r.jsx)("div",{children:"OMG \u0442\u0430\u043a\u043e\u0433\u043e \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u043d\u0430\u0441 \u043d\u0435 \u0437\u043d\u0430\u0439\u0448\u043b\u043e\u0441\u044f"})]})},k=a(17),G=a.n(k),E=a(14),L=a.n(E);var M=function(e){var t=e.smallImg,a=e.largeImg,c=e.alt,n=e.onImageClick;return Object(r.jsx)("li",{className:L.a.imageGalleryItem,children:Object(r.jsx)("img",{src:t,"data-original":a,onClick:n,alt:c,className:L.a.imageGalleryItem__image})})},B=function(e){var t=e.imgCollection,a=e.getModalData,c=function(e){var t=e.target.dataset.original,r=e.target.alt;a(t,r)};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("ul",{className:G.a.imageGallery,children:t.map((function(e,t){var a=e.webformatURL,n=e.largeImageURL,o=e.tags;return Object(r.jsx)(M,{smallImg:a,largeImg:n,alt:o,onImageClick:c},t)}))})})},A="idle",z="pending",D="resolved",q="rejected",J=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)([]),s=Object(i.a)(o,2),m=s[0],j=s[1],g=Object(c.useState)(1),h=Object(i.a)(g,2),O=h[0],f=h[1],x=Object(c.useState)(""),I=Object(i.a)(x,2),y=I[0],F=I[1],N=Object(c.useState)(""),w=Object(i.a)(N,2),k=w[0],G=w[1],E=Object(c.useState)(!1),L=Object(i.a)(E,2),M=L[0],J=L[1],P=Object(c.useState)(null),T=Object(i.a)(P,2),R=T[0],U=T[1],V=Object(c.useState)(A),X=Object(i.a)(V,2),H=X[0],K=X[1];Object(c.useEffect)((function(){a&&(K(z),b(a,O).then((function(e){j((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e.hits))})),K(D),O>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){U(e),K(q)})))}),[a,O]);return Object(r.jsxs)("div",{className:_.a.app,children:[Object(r.jsx)(u.a,{position:"bottom-center",autoClose:2500}),Object(r.jsx)(p,{getImgName:n,resetStates:function(){j([]),f(1)}}),M&&Object(r.jsx)(v,{toggleModal:function(){J(!M)},largeImg:y,altImg:k}),H===A&&Object(r.jsx)("div",{className:_.a.idle,children:"\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0440\u043e\u0437\u043f\u043e\u0447\u043d\u0435\u043c\u043e. \u041d\u0430\u043f\u0438\u0448\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u043f\u043e\u043b\u0456 \u0432\u0438\u0449\u0435 \u0442\u0430 \u0440\u043e\u0437\u043f\u043e\u0447\u043d\u0456\u0442\u044c \u043f\u043e\u0448\u0443\u043a"}),H===z&&Object(r.jsx)(d.a,{className:_.a.loader,type:"Grid",color:"#00BFFF",height:80,width:80}),0===m.length&&H===D&&Object(r.jsx)(C,{}),H===D&&Object(r.jsx)(B,{imgCollection:m,getModalData:function(e,t){F(e),G(t),J(!0)}}),H===D&&m.length>11&&Object(r.jsx)(S,{onLoadMoreBtnClick:function(){f((function(e){return e+1}))}}),H===q&&Object(r.jsx)(C,{errorMessage:R.message})]})};a(44),a(45),a(46),a(47);s.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__XzpCb",searchForm:"Searchbar_searchForm__30ahr",searchForm__button:"Searchbar_searchForm__button__1p4t0",searchForm__button__label:"Searchbar_searchForm__button__label__2K3o8",searchForm__input:"Searchbar_searchForm__input__C7-uy"}},9:function(e,t,a){e.exports={app:"App_app__1xEDg",loader:"App_loader__3aq-m",idle:"App_idle__A2g2b",pending:"App_pending__1zIL8",resolved:"App_resolved__fC6EE",rejected:"App_rejected__2OFL5"}}},[[48,1,2]]]);
//# sourceMappingURL=main.5f54df59.chunk.js.map